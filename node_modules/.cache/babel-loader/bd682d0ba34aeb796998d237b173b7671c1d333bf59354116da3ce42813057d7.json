{"ast":null,"code":"import _regeneratorRuntime from\"/home/student/react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/student/react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/student/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./style.css\";import{createBrowserRouter,RouterProvider,Route,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Products=function Products(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getProducts();case 2:case\"end\":return _context.stop();}},_callee);}))();},[]);var getProducts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setLoading(true);_context2.next=4;return fetch(\"https://dummyjson.com/products\");case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:result=_context2.sent;setProducts(result.products);setLoading(false);_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0.mesage);case 15:case\"end\":return _context2.stop();}},_callee2,null,[[0,12]]);}));return function getProducts(){return _ref2.apply(this,arguments);};}();console.log({products:products});if(loading){return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/AddProduct/\",className:\"btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"add\",children:\"Add a new product\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.images[1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.title}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Ksh \",item.price]}),/*#__PURE__*/_jsxs(\"h3\",{children:[item.discountPercentage,\"%\"]}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.id),className:\"btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"view\",children:\"View Details\"})})]})]});})})]});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","createBrowserRouter","RouterProvider","Route","Link","jsx","_jsx","jsxs","_jsxs","Products","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","loading","setLoading","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","getProducts","stop","_ref2","_callee2","response","result","_callee2$","_context2","fetch","sent","json","t0","console","log","mesage","apply","arguments","children","to","className","type","map","item","src","images","title","price","discountPercentage","concat","id"],"sources":["/home/student/react/src/Products/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./style.css\";\nimport {\n  createBrowserRouter,\n  RouterProvider,\n  Route,\n  Link,\n} from \"react-router-dom\";\nconst Products = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    (async () => {\n      await getProducts();\n    })();\n  }, []);\n  const getProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\"https://dummyjson.com/products\");\n      const result = await response.json();\n      setProducts(result.products);\n      setLoading(false);\n    } catch (error) {\n      console.log(error.mesage);\n    }\n  };\n  console.log({ products });\n  if (loading) {\n    return <h1>Loading...</h1>;\n  }\n  return (\n    <div>\n      <Link to={`/AddProduct/`} className=\"btn\">\n        <button type=\"submit\" className=\"add\">\n          Add a new product\n        </button>\n      </Link>\n      <div className=\"products\">\n        {products.map((item) => (\n          <div className=\"card\">\n            <img src={item.images[1]}/>\n            <div className=\"container\">\n            <h3>{item.title}</h3>\n            <h3>Ksh {item.price}</h3>\n            <h3>{item.discountPercentage}%</h3>\n            <Link to={`/product/${item.id}`} className=\"btn\">\n              <button type=\"submit\" className=\"view\">\n                View Details\n              </button>\n            </Link>\n            </div>\n\n</div>\n        ))}\n      </div>\n    </div>\n  );\n};\nexport default Products;\n\n"],"mappings":"2UAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,aAAa,CACpB,OACEC,mBAAmB,CACnBC,cAAc,CACdC,KAAK,CACLC,IAAI,KACC,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAC1B,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACrB,IAAAC,SAAA,CAAgCX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAA8BhB,QAAQ,CAAC,KAAK,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1BhB,SAAS,CAAC,UAAM,CACdmB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACO,CAAAC,WAAW,CAAC,CAAC,yBAAAH,QAAA,CAAAI,IAAA,MAAAP,OAAA,GACpB,GAAE,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CACN,GAAM,CAAAM,WAAW,6BAAAE,KAAA,CAAAX,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAU,SAAA,MAAAC,QAAA,CAAAC,MAAA,QAAAb,mBAAA,GAAAG,IAAA,UAAAW,UAAAC,SAAA,iBAAAA,SAAA,CAAAT,IAAA,CAAAS,SAAA,CAAAR,IAAA,SAAAQ,SAAA,CAAAT,IAAA,GAEhBR,UAAU,CAAC,IAAI,CAAC,CAACiB,SAAA,CAAAR,IAAA,SACM,CAAAS,KAAK,CAAC,gCAAgC,CAAC,QAAxDJ,QAAQ,CAAAG,SAAA,CAAAE,IAAA,CAAAF,SAAA,CAAAR,IAAA,SACO,CAAAK,QAAQ,CAACM,IAAI,CAAC,CAAC,QAA9BL,MAAM,CAAAE,SAAA,CAAAE,IAAA,CACZvB,WAAW,CAACmB,MAAM,CAACpB,QAAQ,CAAC,CAC5BK,UAAU,CAAC,KAAK,CAAC,CAACiB,SAAA,CAAAR,IAAA,kBAAAQ,SAAA,CAAAT,IAAA,IAAAS,SAAA,CAAAI,EAAA,CAAAJ,SAAA,aAElBK,OAAO,CAACC,GAAG,CAACN,SAAA,CAAAI,EAAA,CAAMG,MAAM,CAAC,CAAC,yBAAAP,SAAA,CAAAN,IAAA,MAAAE,QAAA,iBAE7B,kBAVK,CAAAH,WAAWA,CAAA,SAAAE,KAAA,CAAAa,KAAA,MAAAC,SAAA,OAUhB,CACDJ,OAAO,CAACC,GAAG,CAAC,CAAE5B,QAAQ,CAARA,QAAS,CAAC,CAAC,CACzB,GAAII,OAAO,CAAE,CACX,mBAAOX,IAAA,OAAAuC,QAAA,CAAI,YAAU,CAAI,CAAC,CAC5B,CACA,mBACErC,KAAA,QAAAqC,QAAA,eACEvC,IAAA,CAACF,IAAI,EAAC0C,EAAE,eAAiB,CAACC,SAAS,CAAC,KAAK,CAAAF,QAAA,cACvCvC,IAAA,WAAQ0C,IAAI,CAAC,QAAQ,CAACD,SAAS,CAAC,KAAK,CAAAF,QAAA,CAAC,mBAEtC,CAAQ,CAAC,CACL,CAAC,cACPvC,IAAA,QAAKyC,SAAS,CAAC,UAAU,CAAAF,QAAA,CACtBhC,QAAQ,CAACoC,GAAG,CAAC,SAACC,IAAI,qBACjB1C,KAAA,QAAKuC,SAAS,CAAC,MAAM,CAAAF,QAAA,eACnBvC,IAAA,QAAK6C,GAAG,CAAED,IAAI,CAACE,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,cAC3B5C,KAAA,QAAKuC,SAAS,CAAC,WAAW,CAAAF,QAAA,eAC1BvC,IAAA,OAAAuC,QAAA,CAAKK,IAAI,CAACG,KAAK,CAAK,CAAC,cACrB7C,KAAA,OAAAqC,QAAA,EAAI,MAAI,CAACK,IAAI,CAACI,KAAK,EAAK,CAAC,cACzB9C,KAAA,OAAAqC,QAAA,EAAKK,IAAI,CAACK,kBAAkB,CAAC,GAAC,EAAI,CAAC,cACnCjD,IAAA,CAACF,IAAI,EAAC0C,EAAE,aAAAU,MAAA,CAAcN,IAAI,CAACO,EAAE,CAAG,CAACV,SAAS,CAAC,KAAK,CAAAF,QAAA,cAC9CvC,IAAA,WAAQ0C,IAAI,CAAC,QAAQ,CAACD,SAAS,CAAC,MAAM,CAAAF,QAAA,CAAC,cAEvC,CAAQ,CAAC,CACL,CAAC,EACF,CAAC,EAEb,CAAC,EACG,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAAC,CACD,cAAe,CAAApC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}